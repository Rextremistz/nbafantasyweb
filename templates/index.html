{% load static %}

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="{% static 'fonts/icomoon/style.css' %}">

    <link rel="stylesheet" href="{% static 'css/owl.carousel.min.css' %}">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">

    <!-- Style -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">

    <!-- Tablesort Style -->
    <link rel="stylesheet" href="{% static 'src/tablesort.css' %}">


    <title>Andrew's NBA Fantasy Cheatsheet</title>


  </head>

  <body>
  <div class="content">

    <div class="container">
      {% if user.is_authenticated %}
      <h2 class="mb-5">Welcome to Andrew's NBA Fantasy Cheatsheet.</h2>
      <h2 class="mb-5">Hi {{ user.username }}!</h2>
      {% else %}
      <h2 class="mb-5">Welcome to Andrew's NBA Fantasy Cheatsheet</h2>
      <h2 class="mb-5">Hi guest, please login!</h2>
      {% endif %}

      {% if user.is_authenticated %}
      <a href="logout">Logout</a>
      {% else %}
      <a href="login">Login or Signup</a>
      {% endif %}
      <br><br/>

      <div class="table-responsive custom-table-responsive">

        <table id="rankings-table" class="table custom-table table-sortable">
          <thead>
            <tr>
              <th scope="col" rowspan ="1">
                <!-- <label class="control control--checkbox">
                  <input type="checkbox"  class="js-check-all"/>
                  <div class="control__indicator"></div>
                </label> -->
              </th>
              <th scope="col" rowspan ="1" style ="vertical-align: middle;">Name</th>
              <th scope="col" rowspan ="1" style ="vertical-align: middle;">Team</th>
              <!-- <th scope="col" colspan="3" style ="text-align: center;">Points</th>
              <th scope="col" colspan="3" style ="text-align: center;">Average</th>
              <th scope="col" colspan="3" style ="text-align: center;">Games</th>
              <th scope="col" colspan="3" style ="text-align: center;">Price</th> -->
              <th class ="points">{{ y1.season }}</th>
              <th class ="points">{{ y2.season }}</th>
              <th class ="points">{{ y3.season }}</th>
              <th class ="average">{{ y1.season }}</th>
              <th class ="average">{{ y2.season }}</th>
              <th class ="average">{{ y3.season }}</th>
              <th class ="games">{{ y1.season }}</th>
              <th class ="games">{{ y2.season }}</th>
              <th class ="games">{{ y3.season }}</th>
              <th class ="price">{{ y1.season }}</th>
              <th class ="price">{{ y2.season }}</th>
              <th class ="price">{{ y3.season }}</th>
            </tr>
          </thead>
          <tbody>
<!--
            {% for player in players%}
            <tr scope="row">
              <th scope="row">
                <label class="control control--checkbox">
                  <input type="checkbox"/>
                  <div class="control__indicator"></div>
                </label>
              </th>
              <td><a href="#">{{player.name}}</a></td>
              <td>
                {{player.team}}
                <small class="d-block">{{player.status}}</small>
              </td>
              <td>{{player.y1_points}}</td>
              <td>{{player.y2_points}}</td>
              <td>{{player.y3_points}}</td>
              <td>{{player.y1_average}}</td>
              <td>{{player.y2_average}}</td>
              <td>{{player.y3_average}}</td>
              <td>{{player.y1_games}}</td>
              <td>{{player.y2_games}}</td>
              <td>{{player.y3_games}}</td>
              <td>{{player.y1_price}}</td>
              <td>{{player.y2_price}}</td>
              <td>{{player.y3_price}}</td>
            </tr>
            <tr class="spacer"><td colspan="100"></td></tr>
            {% endfor %} -->
            <tr>
              <td>1</td>
              <td>2</td>
              <td>3</td>
              <td>4</td>
              <td>5</td>
              <td>5</td>
              <td>5</td>
              <td>5</td>
              <td>5</td>
              <td>5</td>
              <td>5</td>
              <td>5</td>
              <td>5</td>
            </tr>
            <tr>
              <td>6</td>
              <td>7</td>
              <td>8</td>
              <td>3</td>
              <td>2</td>
              <td>2</td>
              <td>2</td>
              <td>2</td>
              <td>2</td>
              <td>2</td>
              <td>2</td>
              <td>2</td>
              <td>2</td>
            </tr>



          </tbody>
        </table>
      </div>
    </div>
  </div>

    <script src="{% static 'js/jquery-3.3.1.min.js' %}"></script>
    <script src="{% static 'js/popper.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <script src="{% static 'js/main.js' %}"></script>
    <script src="{% static 'src/tablesort.js' %}"></script>

    <script type="text/javascript">
      const rankingsBody = document.querySelector("#rankings-table > tbody");

      function loadRankings (){
        const request = new XMLHttpRequest();
        request.open("get", "data/rankings.json");
        request.onload = () => {
          try { //parsing might fail so wrap in "try"
            const json = JSON.parse(request.responseText);
            populateRankings(json);
          } catch(e) { //if error
            console.warn("Could not load :(");
          }
        };

        request.send();

      }

      function populateRankings(json) {
        console.log(json);
      }

    </script>

  </body>
</html>